{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { itemsApi } from \"../../api/moviesDB\";\n\nconst useItems = () => {\n  _s();\n\n  const params = new URLSearchParams(window.location.search);\n  const page = Number(params.get(\"page\"));\n  const search = params.get(\"search\") || undefined;\n  const [items, setItems] = useState();\n  useEffect(() => {\n    itemsApi.searchMulti({\n      page,\n      search\n    }).then(response => setItems(response));\n  }, [page, search]);\n\n  const getItems = async () => {\n    const response = await itemsApi.getItemsFB();\n    return response;\n  };\n\n  const addItem = async datos => {\n    await itemsApi.addItemFB(datos);\n    getItems();\n  };\n\n  const deleteItem = async id => {\n    await itemsApi.deleteItemFB(id);\n    getItems();\n  };\n\n  const [itemDetail, setDetail] = useState();\n\n  const getDetail = async id => {\n    await itemsApi.getItemFB(id).then(response => {\n      setDetail(response);\n    });\n  };\n\n  const [itemsFB, setItemsFB] = useState();\n\n  const displayItemsFB = async () => {\n    await getItems().then(response => {\n      setItemsFB(response);\n    });\n  }; // const displayItemsMVDB =async() =>{\n  //     await itemsApi.getItemsTMDB().then((response) => { setItems(response)})\n  // }\n\n\n  return {\n    addItem,\n    deleteItem,\n    getItems,\n    getDetail,\n    setDetail,\n    displayItemsFB,\n    items,\n    itemDetail,\n    itemsFB\n  };\n};\n\n_s(useItems, \"fGc/yyveaZbyFYRGznf7VT5qpBo=\");\n\nexport { useItems };","map":{"version":3,"sources":["C:/Users/User/Desktop/ProgramaciÃ³n/Clases Ada/proyectos/TP FINAL/cinemada/src/hooks/useItems/index.ts"],"names":["useEffect","useState","itemsApi","useItems","params","URLSearchParams","window","location","search","page","Number","get","undefined","items","setItems","searchMulti","then","response","getItems","getItemsFB","addItem","datos","addItemFB","deleteItem","id","deleteItemFB","itemDetail","setDetail","getDetail","getItemFB","itemsFB","setItemsFB","displayItemsFB"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAmC,OAAnC;AACA,SAASC,QAAT,QAAwB,oBAAxB;;AAIA,MAAMC,QAAQ,GAAG,MAAK;AAAA;;AAClB,QAAMC,MAAM,GAAG,IAAIC,eAAJ,CAAoBC,MAAM,CAACC,QAAP,CAAgBC,MAApC,CAAf;AACA,QAAMC,IAAI,GAAGC,MAAM,CAACN,MAAM,CAACO,GAAP,CAAW,MAAX,CAAD,CAAnB;AACA,QAAMH,MAAM,GAAGJ,MAAM,CAACO,GAAP,CAAW,QAAX,KAAwBC,SAAvC;AAGA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBb,QAAQ,EAAlC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZE,IAAAA,QAAQ,CACPa,WADD,CACa;AAACN,MAAAA,IAAD;AAAOD,MAAAA;AAAP,KADb,EAECQ,IAFD,CAEOC,QAAD,IAAcH,QAAQ,CAACG,QAAD,CAF5B;AAGH,GAJQ,EAIN,CAACR,IAAD,EAAOD,MAAP,CAJM,CAAT;;AAMA,QAAMU,QAAQ,GAAG,YAAS;AACtB,UAAMD,QAAQ,GAAG,MAAMf,QAAQ,CAACiB,UAAT,EAAvB;AACA,WAAOF,QAAP;AAEH,GAJD;;AAMA,QAAMG,OAAO,GAAE,MAAMC,KAAN,IAAsB;AACjC,UAAMnB,QAAQ,CAACoB,SAAT,CAAmBD,KAAnB,CAAN;AACAH,IAAAA,QAAQ;AAEX,GAJD;;AAMA,QAAMK,UAAU,GAAG,MAAMC,EAAN,IAAmB;AAClC,UAAMtB,QAAQ,CAACuB,YAAT,CAAsBD,EAAtB,CAAN;AACAN,IAAAA,QAAQ;AACX,GAHD;;AAIA,QAAM,CAACQ,UAAD,EAAaC,SAAb,IAA0B1B,QAAQ,EAAxC;;AAEA,QAAM2B,SAAS,GAAE,MAAMJ,EAAN,IAAmB;AAChC,UAAMtB,QAAQ,CAAC2B,SAAT,CAAmBL,EAAnB,EAAuBR,IAAvB,CAA6BC,QAAD,IAAc;AAAEU,MAAAA,SAAS,CAACV,QAAD,CAAT;AAAoB,KAAhE,CAAN;AACH,GAFD;;AAGA,QAAM,CAACa,OAAD,EAAUC,UAAV,IAAwB9B,QAAQ,EAAtC;;AAEA,QAAM+B,cAAc,GAAG,YAAU;AAC7B,UAAMd,QAAQ,GAAGF,IAAX,CAAiBC,QAAD,IAAc;AAAEc,MAAAA,UAAU,CAACd,QAAD,CAAV;AAAqB,KAArD,CAAN;AACH,GAFD,CArCkB,CAwClB;AACA;AACA;;;AAGJ,SAAO;AAACG,IAAAA,OAAD;AAAUG,IAAAA,UAAV;AAAsBL,IAAAA,QAAtB;AAAgCU,IAAAA,SAAhC;AAA2CD,IAAAA,SAA3C;AAAsDK,IAAAA,cAAtD;AAAsEnB,IAAAA,KAAtE;AAA6Ea,IAAAA,UAA7E;AAAyFI,IAAAA;AAAzF,GAAP;AAEC,CA/CD;;GAAM3B,Q;;AAiDN,SAAQA,QAAR","sourcesContent":["import { useEffect, useState} from \"react\";\r\nimport { itemsApi} from \"../../api/moviesDB\";\r\nimport { mapToArray } from \"../../helpers\";\r\nimport { ApiResponse, Items } from \"../../types/models\";\r\n\r\nconst useItems = () =>{\r\n    const params = new URLSearchParams(window.location.search)\r\n    const page = Number(params.get(\"page\"))\r\n    const search = params.get(\"search\") || undefined\r\n    \r\n    \r\n    const [items, setItems] = useState<ApiResponse>()\r\n\r\n    useEffect(() => {\r\n        itemsApi\r\n        .searchMulti({page, search})\r\n        .then((response) => setItems(response))\r\n    }, [page, search])\r\n\r\n    const getItems = async()=>{\r\n        const response = await itemsApi.getItemsFB();\r\n        return response\r\n        \r\n    }\r\n\r\n    const addItem= async(datos: Items) =>{        \r\n        await itemsApi.addItemFB(datos);\r\n        getItems()\r\n        \r\n    };\r\n\r\n    const deleteItem = async(id:number) =>{\r\n        await itemsApi.deleteItemFB(id)\r\n        getItems()\r\n    }\r\n    const [itemDetail, setDetail] = useState<Items>()\r\n\r\n    const getDetail= async(id:string) =>{\r\n        await itemsApi.getItemFB(id).then((response) => { setDetail(response)})\r\n    }\r\n    const [itemsFB, setItemsFB] = useState<Items[]>()\r\n\r\n    const displayItemsFB = async() =>{\r\n        await getItems().then((response) => { setItemsFB(response)})\r\n    }\r\n    // const displayItemsMVDB =async() =>{\r\n    //     await itemsApi.getItemsTMDB().then((response) => { setItems(response)})\r\n    // }\r\n\r\n\r\nreturn {addItem, deleteItem, getItems, getDetail, setDetail, displayItemsFB, items, itemDetail, itemsFB }\r\n\r\n}\r\n\r\nexport {useItems}"]},"metadata":{},"sourceType":"module"}