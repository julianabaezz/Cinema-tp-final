{"ast":null,"code":"import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faEye,faEyeSlash}from\"@fortawesome/free-solid-svg-icons\";import{useContext,useEffect}from\"react\";import{Card,Row,Col,Button}from\"react-bootstrap\";import{useItems}from\"../../../hooks/useItems\";import{UsersContext}from\"../../../contexts\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserCards=function UserCards(){var _useItems=useItems(),deleteItem=_useItems.deleteItem,displayItemsFB=_useItems.displayItemsFB,addItemViewed=_useItems.addItemViewed,deleteItemViewed=_useItems.deleteItemViewed,itemsViewed=_useItems.itemsViewed,itemsFB=_useItems.itemsFB;var _useContext=useContext(UsersContext),currentUser=_useContext.currentUser;useEffect(function(){displayItemsFB();},[]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Row,{xs:1,md:5,className:\"g-6\",children:itemsFB===null||itemsFB===void 0?void 0:itemsFB.map(function(item){return/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Img,{variant:\"top\",src:\"http://image.tmdb.org/t/p/w500\".concat(item.poster_path)}),/*#__PURE__*/_jsxs(Card.Body,{children:[item.media_type==='tv'&&/*#__PURE__*/_jsx(Card.Title,{children:item.name}),item.media_type!=='tv'&&/*#__PURE__*/_jsx(Card.Title,{children:item.title}),/*#__PURE__*/_jsxs(Card.Text,{children:[\" \",item.vote_average,\" \"]})]}),(currentUser===null||currentUser===void 0?void 0:currentUser.role)!=='admin'&&/*#__PURE__*/_jsx(Link,{to:\"/detail/\".concat(item.idDB),className:\"warning\",children:\"Detalle\"}),/*#__PURE__*/_jsxs(Card.Footer,{children:[(currentUser===null||currentUser===void 0?void 0:currentUser.role)==='admin'&&/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:function onClick(){deleteItem(item.id);},children:\"Eliminar\"}),(currentUser===null||currentUser===void 0?void 0:currentUser.role)!=='admin'&&!itemsViewed(currentUser,item.id)&&/*#__PURE__*/_jsx(Button,{variant:\"warning\",onClick:function onClick(){return addItemViewed(currentUser,item.id);},children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faEye})}),(currentUser===null||currentUser===void 0?void 0:currentUser.role)!=='admin'&&itemsViewed(currentUser,item.id)&&/*#__PURE__*/_jsx(Button,{variant:\"warning\",onClick:function onClick(){return deleteItemViewed(currentUser,item.id);},children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faEyeSlash})})]})]})},item.idDB);})})});};export{UserCards};","map":{"version":3,"sources":["C:/Users/User/Desktop/ProgramaciÃ³n/Clases Ada/proyectos/TP FINAL/cinemada/src/components/parts/UserCards/index.tsx"],"names":["FontAwesomeIcon","faEye","faEyeSlash","useContext","useEffect","Card","Row","Col","Button","useItems","UsersContext","Link","UserCards","deleteItem","displayItemsFB","addItemViewed","deleteItemViewed","itemsViewed","itemsFB","currentUser","map","item","poster_path","media_type","name","title","vote_average","role","idDB","id"],"mappings":"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","sourcesContent":["import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faEye, faEyeSlash } from \"@fortawesome/free-solid-svg-icons\"\r\nimport { FC, useContext, useEffect } from \"react\";\r\nimport { Card, Row, Col, Button } from \"react-bootstrap\";\r\nimport { useItems } from \"../../../hooks/useItems\";\r\nimport { UsersContext } from \"../../../contexts\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst UserCards: FC = () => {\r\n    const { deleteItem, displayItemsFB, addItemViewed, deleteItemViewed, itemsViewed, itemsFB } = useItems()\r\n    const { currentUser } = useContext(UsersContext)\r\n\r\n\r\n    useEffect(() => {\r\n        displayItemsFB()\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            <Row xs={1} md={5} className=\"g-6\">\r\n\r\n                {itemsFB?.map((item) => (\r\n                    <Col key={item.idDB}>\r\n                        <Card>\r\n                            <Card.Img variant=\"top\" src={`http://image.tmdb.org/t/p/w500${item.poster_path}`} />\r\n                            <Card.Body>\r\n                                {item.media_type === 'tv' && (\r\n                                    <Card.Title>{item.name}</Card.Title>\r\n                                )}\r\n                                {item.media_type !== 'tv' && (\r\n                                    <Card.Title>{item.title}</Card.Title>\r\n                                )}\r\n                                <Card.Text> {item.vote_average} </Card.Text>\r\n                            </Card.Body>\r\n                                {currentUser?.role !== 'admin' && (\r\n                                \r\n                                    <Link to={`/detail/${item.idDB}`} className=\"warning\">Detalle</Link>\r\n                                \r\n                                )}\r\n                            <Card.Footer>\r\n                                {currentUser?.role === 'admin' && (\r\n                                    <Button variant=\"danger\" onClick={() => { deleteItem(item.id) }}>Eliminar</Button>\r\n\r\n                                )}\r\n                                {currentUser?.role !== 'admin' && !itemsViewed(currentUser, item.id) &&\r\n\r\n                                    <Button variant=\"warning\" onClick={() => addItemViewed(currentUser, item.id)}><FontAwesomeIcon icon={faEye}></FontAwesomeIcon></Button>\r\n\r\n                                }\r\n                                {currentUser?.role !== 'admin' && itemsViewed(currentUser, item.id) &&\r\n\r\n                                    <Button variant=\"warning\" onClick={() => deleteItemViewed(currentUser, item.id)}><FontAwesomeIcon icon={faEyeSlash}></FontAwesomeIcon></Button>\r\n\r\n                                }\r\n\r\n\r\n                            </Card.Footer>\r\n                        </Card>\r\n                    </Col>\r\n                )\r\n\r\n\r\n                )}\r\n            </Row>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport { UserCards }"]},"metadata":{},"sourceType":"module"}